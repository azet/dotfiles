#!/usr/bin/env bash

function install_pkg() {
  case $(uname) in
  *Linux*)
    $(which apt-get &>/dev/null) || {
      echo "not debian based, do this manually."
      exit 1
    }
    sudo apt-get install urlview muttprint muttprint-manual mutt-patched w3m mutt curl      \
                         ruby rake rubygems build-essential cmake git wget zsh zsh-dev      \
                         zsh-common autoconf automake autotools-dev debhelper dh-make gnupg \
                         fakeroot devscripts lintian patch patchutils quilt python3 golang  \
                         git-buildpackage rxvt-unicode screen tmux lmod gnupg-curl          \
                         gnupg-pkcs11-scd gnupg-agent lftp -y
  ;;
  *Darwin*)
    echo "HOMEBREW ALL THE THINGS!"
    exit 1
  ;;
  esac
}

install_pkg

# install grml zsh config
wget -O .zshrc http://git.grml.org/f/grml-etc-core/etc/zsh/zshrc

# install grml screen config
wget -O .screenrc http://git.grml.org/f/grml-etc-core/etc/grml/screenrc_generic

# install janus vim  distribution
curl -Lo- https://bit.ly/janus-bootstrap | bash

# clone superior email client config
git clone git@github.com:azet/muttrc.git .mutt
echo -e "\n\n\ndon't forget to configure .mutt/!\n\n\n"

# add stuff that's not in a repo
cat > .gitconfig <<EOF
[user]
  name = Aaron Zauner
  email = azet@azet.org
[push]
  default = current
EOF

cat > .vimrc.after <<EOF
set background=dark
color molokai
let g:rehash256 = 1
EOF

cat > .tmux.conf <<EOF
set  -g utf8
set-window-option -g utf8 on
set-window-option -g automatic-rename on
set-option -g set-titles on

setw -g mode-mouse on
set  -g mouse-select-pane on

set  -g history-limit 10000
set  -g escape-time 1

set-window-option -g window-status-fg brightblue
set-window-option -g window-status-bg colour236
set-window-option -g window-status-attr dim

set-window-option -g window-status-current-fg brightred
set-window-option -g window-status-current-bg colour236
set-window-option -g window-status-current-attr bright

set-option -g status-bg colour235
set-option -g status-fg yellow
set-option -g status-attr dim

set  -g status-interval 1
set  -g display-time 1000
set  -g status-left-length 30
set  -g status-left '#(whoami) ::'
set  -g status-right '#h: #(cut -d " " -f 1-3 /proc/loadavg)#[default] | %H:%M:%S#[default]'

set-option -ga terminal-overrides ',*:enacs@:smacs@:rmacs@:acsc@'
EOF

cat > .Xdefaults <<EOF
URxvt*font: xft:Bitstream Vera Sans Mono:pixelsize=11.5
URxvt.letterSpace: -1
URxvt*scrollBar: false
URxvt.depth: 32
URxvt.background: [90]#000000
URxvt.foreground: #00FF00
URxvt*cursorColor: #00FF00
URxvt*colorIT: #00FF00
URxvt*colorBD: #00FF00
! black
URxvt.color0: #000000
URxvt.color8: #555555
! red
URxvt.color1: #AA0000
URxvt.color9: #FF5555
! green
URxvt.color2: #00AA00
URxvt.color10: #55FF55
! yellow
URxvt.color3: #AA5500
URxvt.color11: #FFFF55
! blue
URxvt.color4: #0000AD
URxvt.color12: #9090FF
! magenta
URxvt.color5: #AA00AA
URxvt.color13: #FF55FF
! cyan
URxvt.color6: #00AAAA
URxvt.color14: #55FFFF
! white
URxvt.color7: #AAAAAA
URxvt.color15: #FFFFFF
EOF

mkdir -p ~/.gnupg
cat > ~/.gnupg/sks-keyservers.cert.pem <<EOF
-----BEGIN CERTIFICATE-----
MIIFizCCA3OgAwIBAgIJAK9zyLTPn4CPMA0GCSqGSIb3DQEBBQUAMFwxCzAJBgNV
BAYTAk5PMQ0wCwYDVQQIDARPc2xvMR4wHAYDVQQKDBVza3Mta2V5c2VydmVycy5u
ZXQgQ0ExHjAcBgNVBAMMFXNrcy1rZXlzZXJ2ZXJzLm5ldCBDQTAeFw0xMjEwMDkw
MDMzMzdaFw0yMjEwMDcwMDMzMzdaMFwxCzAJBgNVBAYTAk5PMQ0wCwYDVQQIDARP
c2xvMR4wHAYDVQQKDBVza3Mta2V5c2VydmVycy5uZXQgQ0ExHjAcBgNVBAMMFXNr
cy1rZXlzZXJ2ZXJzLm5ldCBDQTCCAiIwDQYJKoZIhvcNAQEBBQADggIPADCCAgoC
ggIBANdsWy4PXWNUCkS3L//nrd0GqN3dVwoBGZ6w94Tw2jPDPifegwxQozFXkG6I
6A4TK1CJLXPvfz0UP0aBYyPmTNadDinaB9T4jIwd4rnxl+59GiEmqkN3IfPsv5Jj
MkKUmJnvOT0DEVlEaO1UZIwx5WpfprB3mR81/qm4XkAgmYrmgnLXd/pJDAMk7y1F
45b5zWofiD5l677lplcIPRbFhpJ6kDTODXh/XEdtF71EAeaOdEGOvyGDmCO0GWqS
FDkMMPTlieLA/0rgFTcz4xwUYj/cD5e0ZBuSkYsYFAU3hd1cGfBue0cPZaQH2HYx
Qk4zXD8S3F4690fRhr+tki5gyG6JDR67aKp3BIGLqm7f45WkX1hYp+YXywmEziM4
aSbGYhx8hoFGfq9UcfPEvp2aoc8u5sdqjDslhyUzM1v3m3ZGbhwEOnVjljY6JJLx
MxagxnZZSAY424ZZ3t71E/Mn27dm2w+xFRuoy8JEjv1d+BT3eChM5KaNwrj0IO/y
u8kFIgWYA1vZ/15qMT+tyJTfyrNVV/7Df7TNeWyNqjJ5rBmt0M6NpHG7CrUSkBy9
p8JhimgjP5r0FlEkgg+lyD+V79H98gQfVgP3pbJICz0SpBQf2F/2tyS4rLm+49rP
fcOajiXEuyhpcmzgusAj/1FjrtlynH1r9mnNaX4e+rLWzvU5AgMBAAGjUDBOMB0G
A1UdDgQWBBTkwyoJFGfYTVISTpM8E+igjdq28zAfBgNVHSMEGDAWgBTkwyoJFGfY
TVISTpM8E+igjdq28zAMBgNVHRMEBTADAQH/MA0GCSqGSIb3DQEBBQUAA4ICAQAR
OXnYwu3g1ZjHyley3fZI5aLPsaE17cOImVTehC8DcIphm2HOMR/hYTTL+V0G4P+u
gH+6xeRLKSHMHZTtSBIa6GDL03434y9CBuwGvAFCMU2GV8w92/Z7apkAhdLToZA/
X/iWP2jeaVJhxgEcH8uPrnSlqoPBcKC9PrgUzQYfSZJkLmB+3jEa3HKruy1abJP5
gAdQvwvcPpvYRnIzUc9fZODsVmlHVFBCl2dlu/iHh2h4GmL4Da2rRkUMlbVTdioB
UYIvMycdOkpH5wJftzw7cpjsudGas0PARDXCFfGyKhwBRFY7Xp7lbjtU5Rz0Gc04
lPrhDf0pFE98Aw4jJRpFeWMjpXUEaG1cq7D641RpgcMfPFvOHY47rvDTS7XJOaUT
BwRjmDt896s6vMDcaG/uXJbQjuzmmx3W2Idyh3s5SI0GTHb0IwMKYb4eBUIpQOnB
cE77VnCYqKvN1NVYAqhWjXbY7XasZvszCRcOG+W3FqNaHOK/n/0ueb0uijdLan+U
f4p1bjbAox8eAOQS/8a3bzkJzdyBNUKGx1BIK2IBL9bn/HravSDOiNRSnZ/R3l9G
ZauX0tu7IIDlRCILXSyeazu0aj/vdT3YFQXPcvt5Fkf5wiNTo53f72/jYEJd6qph
WrpoKqrwGwTpRUCMhYIUt65hsTxCiJJ5nKe39h46sg==
-----END CERTIFICATE-----
EOF

cat > ~/.gnupg/gpg.conf <<EOF
keyserver hkps://hkps.pool.sks-keyservers.net
keyserver-options ca-cert-file=/home/azet/.gnupg/sks-keyservers.cert.pem
auto-key-locate cert pka ldap hkps://hkps.pool.sks-keyservers.net

keyserver-options no-try-dns-srv
keyserver-options auto-key-retrieve
keyserver-options no-honor-keyserver-url
keyserver-options include-revoked

default-key 7CB6197E385A02DC15D8E223E4DB6492FDB9B5D5
personal-cipher-preferences AES256 AES
personal-digest-preferences SHA512 SHA384 SHA256
cert-digest-algo SHA512
require-cross-certification

keyid-format 0xlong
no-emit-version
use-agent
with-fingerprint
fixed-list-mode

verify-options show-uid-validity
list-options show-uid-validity

default-preference-list SHA512 SHA384 SHA256 AES256 AES ZLIB BZIP2 Uncompressed
EOF

mkdir -p ~/go
cat > .zshrc.local <<EOF
export GOPATH=$HOME/go
export GOPATH=$HOME/go
export PATH=$PATH:$GOPATH/bin
EOF

#EOF
