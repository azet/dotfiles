#!/usr/bin/env bash

function install_pkg() {
  case $(uname) in
  *Linux*)
    $(which apt-get &>/dev/null) || {
      echo "not debian based, do this manually."
      exit 1
    }
    sudo apt-get install urlview muttprint muttprint-manual mutt-patched w3m mutt curl      \
                         ruby rake rubygems build-essential cmake git wget zsh autoconf     \
                         automake autotools-dev debhelper dh-make gnupg fakeroot devscripts \
                         lintian patch patchutils quilt python3 golang git-buildpackage     \
                         rxvt-unicode screen tmux lmod -y
  ;;
  *Darwin*)
    echo "HOMEBREW ALL THE THINGS!"
    exit 1
  ;;
  esac
}

install_pkg

# install grml zsh config
wget -O .zshrc http://git.grml.org/f/grml-etc-core/etc/zsh/zshrc

# install grml screen config
wget -O .screenrc http://git.grml.org/f/grml-etc-core/etc/grml/screenrc_generic

# install janus vim  distribution
curl -Lo- https://bit.ly/janus-bootstrap | bash

# clone superior email client config
git clone git@github.com:azet/muttrc.git .mutt
echo -e "\n\n\ndon't forget to configure .mutt/!\n\n\n"

# add stuff that's not in a repo
cat > .gitconfig <<EOF
[user]
  name = Aaron Zauner
  email = azet@azet.org
[push]
  default = current
EOF

cat > .vimrc.after <<EOF
set background=dark
color molokai
let g:rehash256 = 1
EOF

cat > .tmux.conf <<EOF
set  -g utf8
set-window-option -g utf8 on
set-window-option -g automatic-rename on
set-option -g set-titles on

setw -g mode-mouse on
set  -g mouse-select-pane on

set  -g history-limit 10000
set  -g escape-time 1

set-window-option -g window-status-fg brightblue
set-window-option -g window-status-bg colour236
set-window-option -g window-status-attr dim

set-window-option -g window-status-current-fg brightred
set-window-option -g window-status-current-bg colour236
set-window-option -g window-status-current-attr bright

set-option -g status-bg colour235
set-option -g status-fg yellow
set-option -g status-attr dim

set  -g status-interval 1
set  -g display-time 1000
set  -g status-left-length 30
set  -g status-left '#(whoami) ::'
set  -g status-right '#h: #(cut -d " " -f 1-3 /proc/loadavg)#[default] | %H:%M:%S#[default]'
EOF

cat > .Xdefaults <<EOF
URxvt*font: xft:Bitstream Vera Sans Mono:pixelsize=12
URxvt.letterSpace: -1
URxvt*scrollBar: false
URxvt.depth: 32
URxvt.background: [90]#000000
URxvt.foreground: #00FF00
URxvt*cursorColor: #00FF00
URxvt*colorIT: #00FF00
URxvt*colorBD: #00FF00
! black
URxvt.color0: #000000
URxvt.color8: #555555
! red
URxvt.color1: #AA0000
URxvt.color9: #FF5555
! green
URxvt.color2: #00AA00
URxvt.color10: #55FF55
! yellow
URxvt.color3: #AA5500
URxvt.color11: #FFFF55
! blue
URxvt.color4: #0000AD
URxvt.color12: #9090FF
! magenta
URxvt.color5: #AA00AA
URxvt.color13: #FF55FF
! cyan
URxvt.color6: #00AAAA
URxvt.color14: #55FFFF
! white
URxvt.color7: #AAAAAA
URxvt.color15: #FFFFFF
EOF

#EOF
